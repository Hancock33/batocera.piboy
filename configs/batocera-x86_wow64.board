# Target definition
BR2_x86_i686=y
BR2_PACKAGE_BATOCERA_TARGET_X86=y

# Toolchain definition
BR2_BINUTILS_VERSION_2_39_X=y
BR2_GCC_VERSION_11_X=y
BR2_GCC_ENABLE_GRAPHITE=y
BR2_GCC_ENABLE_LTO=y
BR2_OPTIMIZE_S=y
BR2_SHARED_STATIC_LIBS=y
BR2_TOOLCHAIN_BUILDROOT_GLIBC=y
# required for utf-8
BR2_TOOLCHAIN_GLIBC_GCONV_LIBS_COPY=y
BR2_TOOLCHAIN_BUILDROOT_CXX=y
BR2_TARGET_OPTIMIZATION="-pipe -fsigned-char -mtune=znver2 -w"
BR2_PACKAGE_UTIL_LINUX_LIBMOUNT=y
BR2_PACKAGE_UTIL_LINUX_LIBSMARTCOLS=y
BR2_GLOBAL_PATCH_DIR="$(BR2_EXTERNAL_BATOCERA_PATH)/board/batocera/patches $(BR2_EXTERNAL_BATOCERA_PATH)/board/batocera/x86/patches"

# kernel selected just to be able to select the correct version
BR2_LINUX_KERNEL=n
BR2_LINUX_KERNEL_CUSTOM_VERSION=y
BR2_LINUX_KERNEL_CUSTOM_VERSION_VALUE="6.1.2"
BR2_KERNEL_HEADERS_AS_KERNEL=y

# BR2_TARGET_ROOTFS_TAR is not set
BR2_ROOTFS_POST_BUILD_SCRIPT="$(BR2_EXTERNAL_BATOCERA_PATH)/package/batocera/ports/32bit/lib32bit-packager/x86_wow-packager.sh"
BR2_ROOTFS_DEVICE_CREATION_DYNAMIC_EUDEV=y

# (Fake) system as we only build 32-bit Wine subsystem
BR2_PACKAGE_WINE_LUTRIS_WOW64_32=y
BR2_PACKAGE_WINE_PROTON_WOW64_32=y
BR2_PACKAGE_BATOCERA_GPU_X86=y
BR2_PACKAGE_BATOCERA_XORG=y
BR2_PACKAGE_BATOCERA_VULKAN=y
BR2_PACKAGE_BATOCERA_AUDIO=y
BR2_PACKAGE_BATOCERA_BLUETOOTH=y
BR2_SYSTEM_ENABLE_NLS=n
BR2_PACKAGE_BATOCERA_WINE_REQUIREMENTS=y
BR2_PACKAGE_WAYLANDPP=y

# Enables ccache
BR2_CCACHE=y
