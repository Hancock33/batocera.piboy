diff --git a/cores/libretro-ffmpeg/ffmpeg_core.c b/cores/libretro-ffmpeg/ffmpeg_core.c
index f69cb57d1f..fd950f41a7 100644
--- a/cores/libretro-ffmpeg/ffmpeg_core.c
+++ b/cores/libretro-ffmpeg/ffmpeg_core.c
@@ -2089,16 +2089,16 @@ void CORE_PREFIX(retro_unload_game)(void)
    for (i = 0; i < MAX_STREAMS; i++)
    {
       if (sctx[i])
-         avcodec_close(sctx[i]);
+         avcodec_free_context(&sctx[i]);
       if (actx[i])
-         avcodec_close(actx[i]);
+         avcodec_free_context(&actx[i]);
       sctx[i] = NULL;
       actx[i] = NULL;
    }
 
    if (vctx)
    {
-      avcodec_close(vctx);
+      avcodec_free_context(&vctx);
       vctx = NULL;
    }
 
diff --git a/record/drivers/record_ffmpeg.c b/record/drivers/record_ffmpeg.c
index 6ca384247d..1e530f4666 100644
--- a/record/drivers/record_ffmpeg.c
+++ b/record/drivers/record_ffmpeg.c
@@ -374,7 +374,7 @@ static bool ffmpeg_init_audio(ffmpeg_t *handle, const char *audio_resampler)
    if (!audio->buffer)
       return false;
 
-   audio->outbuf_size = AV_INPUT_BUFFER_MIN_SIZE;
+   audio->outbuf_size = AV_INPUT_BUFFER_PADDING_SIZE;
    audio->outbuf      = (uint8_t*)av_malloc(audio->outbuf_size);
 
    if (!audio->outbuf)
@@ -951,7 +951,6 @@ static void ffmpeg_free(void *data)
 
    if (handle->audio.codec)
    {
-      avcodec_close(handle->audio.codec);
       av_free(handle->audio.codec);
    }
 
@@ -959,7 +958,6 @@ static void ffmpeg_free(void *data)
 
    if (handle->video.codec)
    {
-      avcodec_close(handle->video.codec);
       av_free(handle->video.codec);
    }
 
