---
 config.h.in                    |   11 ++++-------
 contrib/mod_load/mod_load.c.in |    2 +-
 include/conf.h                 |   11 -----------
 lib/glibc-glob.c               |   10 ----------
 lib/libltdl/config-h.in        |    7 ++-----
 lib/libltdl/ltdl.c             |    4 ----
 6 files changed, 7 insertions(+), 38 deletions(-)

Index: proftpd-1.3.1/config.h.in
===================================================================
--- proftpd-1.3.1.orig/config.h.in
+++ proftpd-1.3.1/config.h.in
@@ -202,7 +202,7 @@
 #undef STACK_DIRECTION
 
 /* Define if you have the ANSI C header files.  */
-#undef STDC_HEADERS
+#define STDC_HEADERS	1
 
 /* Define if you can safely include both <sys/time.h> and <time.h>.  */
 #undef TIME_WITH_SYS_TIME
@@ -214,10 +214,10 @@
 #undef uid_t
 
 /* The number of bytes in a short.  */
-#undef SIZEOF_SHORT
+#define SIZEOF_SHORT	2
 
 /* The number of bytes in an int.  */
-#undef SIZEOF_INT
+#define SIZEOF_INT	4
 
 /* The number of bytes in a long.  */
 #undef SIZEOF_LONG
@@ -234,9 +234,6 @@
 /* The number of bytes in a time_t.  */
 #undef SIZEOF_TIME_T
 
-/* Define if you have the bcopy function.  */
-#undef HAVE_BCOPY
-
 /* Define if you have the crypt function.  */
 #undef HAVE_CRYPT
 
@@ -319,7 +316,7 @@
 #undef HAVE_INET_PTON
 
 /* Define if you have the memcpy function.  */
-#undef HAVE_MEMCPY
+#define HAVE_MEMCPY	1
 
 /* Define if you have the mempcpy function.  */
 #undef HAVE_MEMPCPY
Index: proftpd-1.3.1/contrib/mod_load/mod_load.c.in
===================================================================
--- proftpd-1.3.1.orig/contrib/mod_load/mod_load.c.in
+++ proftpd-1.3.1/contrib/mod_load/mod_load.c.in
@@ -651,7 +651,7 @@
       for (i = 0; i < conf.config_maxclass; ++i)
         {
           struct class_stats stats;
-          bzero ((char *) &stats, sizeof stats);
+          memset ((char *) &stats, 0, sizeof stats);
 
           desc.sd_type = CPUTYPE_CLASS;
           desc.sd_objid = i;
Index: proftpd-1.3.1/include/conf.h
===================================================================
--- proftpd-1.3.1.orig/include/conf.h
+++ proftpd-1.3.1/include/conf.h
@@ -118,10 +118,6 @@
 #  define strrchr rindex
 # endif
 char *strchr(),*strrchr();
-# ifndef HAVE_MEMCPY
-#  define memcpy(d,s,n) bcopy((s),(d),(n))
-#  define memmove(d,s,n) bcopy((s),(d),(n))
-# endif
 #endif
 
 #ifdef HAVE_BSTRING_H
@@ -278,13 +274,6 @@
 off_t lseek(int, off_t, int);
 #endif
 
-/* See if we have bcopy, if not define them to use the memcpy functions */
-
-#ifndef HAVE_BCOPY
-# define bcopy(s,d,n)	memcpy((d),(s),(n))
-# define bzero(d,n)	memset((d),0,(n))
-#endif
-
 /* Solaris has __vsnprintf, but no vsnprintf */
 #if ! defined(HAVE_VSNPRINTF) && defined(HAVE___VSNPRINTF)
 # undef vsnprintf
Index: proftpd-1.3.1/lib/glibc-glob.c
===================================================================
--- proftpd-1.3.1.orig/lib/glibc-glob.c
+++ proftpd-1.3.1/lib/glibc-glob.c
@@ -215,18 +215,8 @@
 
 #ifndef	ANSI_STRING
 
-# ifndef bzero
-extern void bzero ();
-# endif
-# ifndef bcopy
-extern void bcopy ();
-# endif
-
-# define memcpy(d, s, n)	bcopy ((s), (d), (n))
 # define strrchr	rindex
 /* memset is only used for zero here, but let's be paranoid.  */
-# define memset(s, better_be_zero, n) \
-  ((void) ((better_be_zero) == 0 ? (bzero((s), (n)), 0) : (abort(), 0)))
 #endif	/* Not ANSI_STRING.  */
 
 #if !defined HAVE_STRCOLL && !defined _LIBC
Index: proftpd-1.3.1/lib/libltdl/config-h.in
===================================================================
--- proftpd-1.3.1.orig/lib/libltdl/config-h.in
+++ proftpd-1.3.1/lib/libltdl/config-h.in
@@ -21,9 +21,6 @@
 /* Define to 1 if you have the <assert.h> header file. */
 #undef HAVE_ASSERT_H
 
-/* Define to 1 if you have the `bcopy' function. */
-#undef HAVE_BCOPY
-
 /* Define to 1 if you have the `closedir' function. */
 #undef HAVE_CLOSEDIR
 
@@ -74,7 +71,7 @@
 #undef HAVE_MALLOC_H
 
 /* Define to 1 if you have the `memcpy' function. */
-#undef HAVE_MEMCPY
+#define HAVE_MEMCPY	1
 
 /* Define to 1 if you have the `memmove' function. */
 #undef HAVE_MEMMOVE
@@ -180,7 +177,7 @@
 #undef PACKAGE_VERSION
 
 /* Define to 1 if you have the ANSI C header files. */
-#undef STDC_HEADERS
+#define STDC_HEADERS	1
 
 /* Define to empty if `const' does not conform to ANSI C. */
 #undef const
Index: proftpd-1.3.1/lib/libltdl/ltdl.c
===================================================================
--- proftpd-1.3.1.orig/lib/libltdl/ltdl.c
+++ proftpd-1.3.1/lib/libltdl/ltdl.c
@@ -372,9 +372,6 @@
 	  if you need that behaviour.  */
 #if ! HAVE_MEMCPY
 
-#  if HAVE_BCOPY
-#    define memcpy(dest, src, size)	bcopy (src, dest, size)
-#  else
 #    define memcpy rpl_memcpy
 
 static lt_ptr memcpy LT_PARAMS((lt_ptr dest, const lt_ptr src, size_t size));
@@ -395,7 +392,6 @@
   return dest;
 }
 
-#  endif /* !HAVE_BCOPY */
 #endif   /* !HAVE_MEMCPY */
 
 #if ! HAVE_MEMMOVE
