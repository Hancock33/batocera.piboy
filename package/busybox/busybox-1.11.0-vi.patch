--- busybox-1.11.0/editors/vi.c	Wed Jun 25 14:51:37 2008
+++ busybox-1.11.0-vi/editors/vi.c	Fri Jun 27 06:06:54 2008
@@ -1894,7 +1894,7 @@
 		p           = new_text + (p           - text);
 		text = new_text;
 	}
-	memmove(p + size, p, end - p);
+	memmove(p + size, p, end - size - p);
 	memset(p, ' ', size);	// clear new hole
 	file_modified++;
 	return p;
